### 挂载（NFS/SMB）相关原理与特性总结

#### 一、挂载的底层原理
- **本质**：基于远程过程调用（RPC）机制，让远程文件操作如同本地操作，不依赖HTTP，拥有独立协议栈。
- **连接方式**：建立持久会话，仅初始“握手”，后续操作在该连接中进行，效率高于HTTP的无状态单次对话。
- **数据传输**：依赖TCP/IP或UDP/IP，NFS早期用UDP（现代版本多用TCP），SMB主要用TCP（445端口），通过自定义命令（如NFS的“READ”）实现文件操作。
- **服务监听**：服务器端需运行服务进程（如nfsd、smbd），监听特定端口（NFS 2049端口、SMB 445端口）；客户端需有对应服务进程或内核模块，以实现随时连接和访问。

#### 二、挂载的必要性（对比直接网络访问）
1. **无缝集成文件系统**：远程目录像本地文件夹，可直接用本地应用操作，无需专门工具和额外步骤。
2. **简化开发与脚本编写**：应用和脚本直接使用本地路径，无需处理网络协议细节，降低复杂度。
3. **实时同步与一致性**：修改会立即同步到远程服务器，始终操作“原始”文件，避免手动同步出错。
4. **权限管理更便捷**：与操作系统权限体系紧密集成，支持精细权限控制，管理更简单。
5. **性能优化**：内置缓存机制，减少网络往返，提升多次访问同一文件的速度。

#### 三、“mount: server1: server2”的含义与原理
- **操作类型**：表示挂载，而非镜像。意为将远程server2的目录或文件系统挂载到本地server1的目录。
- **底层技术**：基于NFS等网络文件系统。
  - 服务器端（server2）：需配置为NFS服务器，导出共享目录（如通过/etc/exports配置），并监听请求。
  - 客户端（server1）：安装NFS客户端软件，发起连接请求，成功后创建挂载点，访问该挂载点的操作会重定向到server2的共享目录。

#### 四、挂载与镜像的区别
| 特性       | 挂载（Mount）                | 镜像（Mirror）                |
|------------|-----------------------------|------------------------------|
| 本质       | 实时远程连接，操作远程文件   | 创建远程文件的本地副本        |
| 存储空间   | 不占用本地空间               | 占用本地空间存储副本          |
| 网络依赖   | 依赖网络连接，断开则无法访问 | 访问时不依赖网络，同步需网络  |
| 数据同步   | 实时同步，修改直接反映到远程 | 需手动或定时同步以保持一致    |
